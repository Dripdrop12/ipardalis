Array.prototype.forEach||(Array.prototype.forEach=function(e,t){if(this===null)throw TypeError(" this is null or not defined");var n,a,i,l=Object(this),r=l.length>>>0;if("function"!=typeof e)throw TypeError(e+" is not a function");for(arguments.length>1&&(n=t),a=0;a<r;)a in l&&(i=l[a],e.call(n,i,a,l)),a++}),Array.prototype.map||(Array.prototype.map=function(e,t){if(this==null)throw TypeError(" this is null or not defined");var n,a,i,l,r,o=Object(this),s=o.length>>>0;if("function"!=typeof e)throw TypeError(e+" is not a function");for(arguments.length>1&&(n=t),a=Array(s),i=0;i<s;)i in o&&(l=o[i],r=e.call(n,l,i,o),a[i]=r),i++;return a});var PagedTableDoc,PagedTable=function(e){var t,n,a,i,l,r=this,o=function(e){var t=[].slice.call(e.children).filter(function(e){return e.hasAttribute("data-pagedtable-source")});if(null===t||1!==t.length)throw"A single data-pagedtable-source was not found";return JSON.parse(t[0].innerHTML)}(e),s=(a=void 0!==(n=void 0!==(t=o).options&&null!==t.options?t.options:{}).columns?n.columns:{},i=void 0!==n.rows?n.rows:{},{pages:(l=function(e){return parseInt(e)>=0?parseInt(e):null})(n.pages),rows:{min:l(i.min),max:l(i.max),total:l(i.total)},columns:{min:l(a.min),max:l(a.max),total:l(a.total)}}),d=function(){return r.measures={padding:12,character:8,height:15,defaults:!0},r.calculate=function(e){if(r.measures.defaults){var t=window.getComputedStyle(e,null),n=q(t.paddingLeft)+q(t.paddingRight),a=Math.ceil(e.clientWidth/20);n<=0||a<=0||(r.measures.padding=n,r.measures.character=a,r.measures.height=e.clientHeight,r.measures.defaults=!1)}},r},u=function(e,t){var n=this,a={max:7,rows:10},i=function(){return Math.ceil(e.length/n.rows)};n.number=0,n.max=null!==t.pages?t.pages:a.max,n.visible=n.max,n.rows=null!==t.rows.min?t.rows.min:a.rows,n.total=i(),n.setRows=function(e){n.rows=e,n.total=i()},n.setPageNumber=function(e){e<0&&(e=0),e>=n.total&&(e=n.total-1),n.number=e},n.setVisiblePages=function(e){n.visible=Math.min(n.max,e),n.setPageNumber(n.number)},n.getVisiblePageRange=function(){var e=n.number-Math.max(Math.floor((n.visible-1)/2),0),t=n.number+Math.floor(n.visible/2)+1,a=n.total;if(e<0){var i=0-e;e+=i,t+=i}if(t>a){var l=t-a;e-=l,t-=l}e=e<0?0:e,t=t>=a?a:t;var r=!1,o=!1;return e>0&&n.visible>1&&(e+=1,r=!0),t<a&&n.visible>2&&(t-=1,o=!0),{first:r,start:e,end:t,last:o}},n.getRowStart=function(){var e=p.number*p.rows;return e<0&&(e=0),e},n.getRowEnd=function(){return Math.min(n.getRowStart()+n.rows,e.length)},n.getPaddingRows=function(){var t=n.getRowStart(),a=n.getRowEnd();return e.length>n.rows?n.rows-(a-t):0}},c=function(e,t,n){var a=this;a.defaults={min:5},a.number=0,a.visible=0,a.total=t.length,a.subset=[],a.padding=0,a.min=null!==n.columns.min?n.columns.min:a.defaults.min,a.max=null!==n.columns.max?n.columns.max:null,a.widths={};var i=Math.max(100,n.rows.min);return a.emptyNames=function(){return t.forEach(function(e){if(null!==t.label&&""!==t.label)return!1}),!0},a.calculateWidths=function(n){t.forEach(function(t){for(var l=Math.max(t.label.toString().length,t.type.toString().length),r=0;r<Math.min(i,e.length);r++)l=Math.max(l,e[r][t.name.toString()].length);a.widths[t.name]={chars:l,inner:l*n.character,outer:l*n.character+n.padding}})},a.getWidth=function(){for(var e=0,t=0;t<a.subset.length;t++){var n=a.subset[t].name;e+=a.widths[n].outer}return e+=10*a.padding*h.measures.character,a.hasMoreLeftColumns()&&(e=e+_+h.measures.padding),a.hasMoreRightColumns()&&(e=e+_+h.measures.padding),e},a.updateSlice=function(){a.number+a.visible>=a.total&&(a.number=a.total-a.visible),a.number<0&&(a.number=0),a.subset=t.slice(a.number,Math.min(a.number+a.visible,a.total)),a.subset=a.subset.map(function(e){return Object.keys(e).forEach(function(t){e[t]=null===e[t]?"":e[t].toString()}),e.width=null,e})},a.setVisibleColumns=function(e,t,n){a.number=e,a.visible=t,a.padding=n,a.updateSlice()},a.incColumnNumber=function(e){a.number=a.number+e},a.setColumnNumber=function(e){a.number=e},a.setPaddingCount=function(e){a.padding=e},a.getPaddingCount=function(){return a.padding},a.hasMoreLeftColumns=function(){return a.number>0},a.hasMoreRightColumns=function(){return a.number+a.visible<a.total},a.updateSlice(0),a},m=o.data,p=new u(m,s),h=new d(m,s),f=new c(m,o.columns,s),g=null,b=null,$=null,v=null,C=null,y=null,w=[],x=function(){document.selection&&document.selection.empty?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()},_=5,A=function(e,t){var n=document.createElement("div");n.setAttribute("style","border-top: "+_+"px solid transparent;border-bottom: "+_+"px solid transparent;border-"+(t?"right":"left")+": "+_+"px solid;");var a=document.createElement("th");return a.appendChild(n),a.setAttribute("style","cursor: pointer;vertical-align: middle;min-width: "+_+"px;width: "+_+"px;"),a.onclick=function(){f.incColumnNumber(t?-1:e),r.animateColumns(t),L(),x(),P()},a},E=function(e){var t=Math.max(y-80,0);return parseInt(e)>0?Math.min(t,parseInt(e))+"px":t+"px"},S=function(){e.querySelectorAll("thead")[0].innerHTML=""},N=function(t){y=e.clientWidth;var n=document.createDocumentFragment();$=document.createElement("tr"),n.appendChild($),f.number>0&&$.appendChild(A(-f.visible,!0)),f.subset=f.subset.map(function(e){var t=document.createElement("th");t.setAttribute("align",e.align),t.style.textAlign=e.align,t.style.maxWidth=E(null),e.width&&(t.style.minWidth=t.style.maxWidth=E(e.width));var n=document.createElement("div");n.setAttribute("class","pagedtable-header-name"),""===e.label?n.innerHTML="&nbsp;":n.appendChild(document.createTextNode(e.label)),t.appendChild(n);var a=document.createElement("div");return a.setAttribute("class","pagedtable-header-type"),""===e.type?a.innerHTML="&nbsp;":a.appendChild(document.createTextNode("<"+e.type+">")),t.appendChild(a),$.appendChild(t),e.element=t,e});for(var a=0;a<f.getPaddingCount();a++){var i=document.createElement("th");i.setAttribute("class","pagedtable-padding-col"),$.appendChild(i)}f.number+f.visible<f.total&&$.appendChild(A(f.visible,!1)),(void 0===t||t)&&S(),e.querySelectorAll("thead")[0].appendChild(n)};r.animateColumns=function(t){var n=e.querySelectorAll("thead")[0],a=n.querySelectorAll("tr")[0],i=g.querySelectorAll("tbody")[0];r.fitColumns(t),N(!1),$.style.opacity="0",$.style.transform=t?"translateX(-30px)":"translateX(30px)",$.style.transition="transform 200ms linear, opacity 200ms",$.style.transitionDelay="0",T(!1),a&&(a.style.position="absolute",a.style.transform="translateX(0px)",a.style.opacity="1",a.style.transition="transform 100ms linear, opacity 100ms",a.setAttribute("class","pagedtable-remove-head"),a.style.transitionEnd?a.addEventListener("transitionend",function(){var e=n.querySelector(".pagedtable-remove-head");e&&n.removeChild(e)}):n.removeChild(a)),i&&g.removeChild(i),C.style.opacity="0",C.style.transition="transform 200ms linear, opacity 200ms",C.style.transitionDelay="0ms",window.getComputedStyle($).opacity,window.getComputedStyle(C).opacity,a&&(a.style.transform=t?"translateX(20px)":"translateX(-30px)",a.style.opacity="0"),$.style.transform="translateX(0px)",$.style.opacity="1",C.style.opacity="1"},r.onChange=function(e){w.push(e)};var P=function(){w.forEach(function(e){e()})},R=function(){C&&(g.removeChild(C),C=null)},T=function(t){y=e.clientWidth;var n=document.createDocumentFragment();m.slice(p.getRowStart(),p.getRowEnd()).forEach(function(e,t){var a=document.createElement("tr");a.setAttribute("class",t%2!=0?"even":"odd"),f.hasMoreLeftColumns()&&a.appendChild(document.createElement("td")),f.subset.forEach(function(t){var n=e[t.name],i=document.createElement("td");"NA"===n&&i.setAttribute("class","pagedtable-na-cell"),"__NA__"===n&&(n="NA");var l=document.createTextNode(n);i.appendChild(l),n.length>50&&i.setAttribute("title",n),i.setAttribute("align",t.align),i.style.textAlign=t.align,i.style.maxWidth=E(null),t.width&&(i.style.minWidth=i.style.maxWidth=E(t.width)),a.appendChild(i)});for(var i=0;i<f.getPaddingCount();i++){var l=document.createElement("td");l.setAttribute("class","pagedtable-padding-col"),a.appendChild(l)}f.hasMoreRightColumns()&&a.appendChild(document.createElement("td")),n.appendChild(a)});for(var a=0;a<p.getPaddingRows();a++){var i=document.createElement("tr"),l=document.createElement("td");l.innerHTML="&nbsp;",l.setAttribute("colspan","100%"),i.appendChild(l),n.appendChild(i)}(void 0===t||t)&&R(),(C=document.createElement("tbody")).appendChild(n),g.appendChild(C)},W=function(){var e=p.getRowStart(),t=p.getRowEnd(),n=m.length,a=s.rows.total?s.rows.total:n,i=e+1+"-"+t+" of "+a.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")+" rows";if(n<p.rows&&(i=a+" row"+(1!=n?"s":"")),f.total>f.visible){var l=s.columns.total?s.columns.total:f.total;i=i+" | "+(f.number+1)+"-"+Math.min(f.number+f.visible,f.total)+" of "+l+" columns"}return i},H=function(e){var t=document.createElement("a");return pageLinkClass=e===p.number?"pagedtable-index pagedtable-index-current":"pagedtable-index",t.setAttribute("class",pageLinkClass),t.setAttribute("data-page-index",e),t.onclick=function(){p.setPageNumber(parseInt(this.getAttribute("data-page-index"))),T(),L(),P()},t.appendChild(document.createTextNode(e+1)),t},L=function(){v=((v=e.querySelectorAll("div.pagedtable-footer")[0]).innerHTML="",v);var t=document.createElement("a");t.appendChild(document.createTextNode("Next")),t.onclick=function(){p.setPageNumber(p.number+1),T(),L(),P()},m.length>p.rows&&v.appendChild(t);var n=document.createElement("div");n.setAttribute("class","pagedtable-indexes");var a=p.getVisiblePageRange();if(a.first){var i=H(0);n.appendChild(i);var l=document.createElement("div");l.setAttribute("class","pagedtable-index-separator-left"),l.appendChild(document.createTextNode("...")),n.appendChild(l)}for(var r=a.start;r<a.end;r++){var i=H(r);n.appendChild(i)}if(a.last){var l=document.createElement("div");l.setAttribute("class","pagedtable-index-separator-right"),l.appendChild(document.createTextNode("...")),n.appendChild(l);var i=H(p.total-1);n.appendChild(i)}m.length>p.rows&&v.appendChild(n);var o=document.createElement("a");o.appendChild(document.createTextNode("Previous")),o.onclick=function(){p.setPageNumber(p.number-1),T(),L(),P()},m.length>p.rows&&v.appendChild(o);var s=document.createElement("div");s.setAttribute("class","pagedtable-info"),s.setAttribute("title",W()),s.appendChild(document.createTextNode(W())),v.appendChild(s);var d="pagedtable-index-nav",u="pagedtable-index-nav pagedtable-index-nav-disabled";o.setAttribute("class",p.number<=0?u:d),t.setAttribute("class",(p.number+1)*p.rows>=m.length?u:d)},M=null,k=function(){var e=document.createElement("table");e.style.visibility="hidden",e.style.position="absolute",e.style.whiteSpace="nowrap",e.style.height="auto",e.style.width="auto";var t=document.createElement("tr");e.appendChild(t),(M=document.createElement("td")).appendChild(document.createTextNode("ABCDEFGHIJ0123456789")),t.appendChild(M),b.appendChild(e)};r.init=function(){b=document.createElement("div"),e.appendChild(b);var t=m.length>0?"pagedtable pagedtable-not-empty":"pagedtable pagedtable-empty";(0==f.total||f.emptyNames()&&0==m.length)&&(t+=" pagedtable-empty-columns"),b.setAttribute("class",t),k(),h.calculate(M),f.calculateWidths(h.measures),(g=document.createElement("table")).setAttribute("cellspacing","0"),g.setAttribute("class","table table-condensed"),b.appendChild(g),g.appendChild(document.createElement("thead"));var n=document.createElement("div");n.setAttribute("class","pagedtable-footer"),b.appendChild(n),b.clientWidth<=0&&(b.style.opacity="0"),r.render(),b.clientWidth<=0&&function e(){b.clientWidth<=0?setTimeout(e,100):(r.render(),P())}()};var D=function(){f.subset=f.subset.map(function(e){return e.width=f.widths[e.name].inner,e})},q=function(e){return parseInt(e)>=0?parseInt(e):0};r.fixedHeight=function(){return null!=s.rows.max},r.fitRows=function(){if(!r.fixedHeight()){h.calculate(M);var t=null!==s.rows.min?s.rows.min:0,n=null!==$&&$.offsetHeight>0?$.offsetHeight:0,a=null!==v&&v.offsetHeight>0?v.offsetHeight:0;e.offsetHeight>0&&(t=Math.floor((e.offsetHeight-n-a)/h.measures.height)),t=null!==s.rows.min?Math.max(s.rows.min,t):t,p.setRows(t)}},r.fitColumns=function(t){h.calculate(M),f.calculateWidths(h.measures),b.clientWidth>0&&(b.style.opacity=1);for(var n=b.clientWidth<=0?Math.max(f.min,1):1,a=f.number,i=0,l=[],r=t,o=window.getComputedStyle(b,null),s=q(o.paddingLeft)+q(o.paddingRight),d=0;f.setVisibleColumns(a,n,i),d=f.getWidth(),!(b.clientWidth-s<d);){if(l.push({columnNumber:a,visibleColumns:n,paddingCount:i}),l.length>100){console.error("More than 100 tries to fit columns, aborting");break}if(null!==f.max&&f.visible+f.getPaddingCount()>=f.max)break;if(!r&&a+f.visible>=f.total){if(!t&&a>0)r=!0;else if(null===f.min||n+f.getPaddingCount()>=f.min)break;else i+=1}if(r&&0==a){if(t&&a+f.visible<f.total)r=!1;else if(null===f.min||n+f.getPaddingCount()>=f.min)break;else i+=1}r&&a>0&&(a-=1),a+n<f.total&&(n+=1)}var u={columnNumber:a,visibleColumns:n,paddingCount:i};l.length>0&&(u=l[l.length-1]),f.setVisibleColumns(u.columnNumber,u.visibleColumns,u.paddingCount),e.offsetWidth>0&&p.setVisiblePages(Math.max(Math.ceil(1*(e.offsetWidth-250)/40),2)),D()},r.fit=function(e){r.fitRows(),r.fitColumns(e)},r.render=function(){r.fitColumns(!1),N(),L(),r.fitRows(),T(),L()};var V=-1,X=-1,z=-1,F=-1,B=!1;r.resize=function(e,t){z=e,F=t,B||function e(){B=!1,z===V&&(r.fixedHeight()||F===X)?(r.render(),P(),V=-1,X=-1):(V=z,X=F,setTimeout(e,200),B=!0)}()}};!function(e){var t=[];e.initAll=function(){t=[],[].slice.call(document.querySelectorAll('[data-pagedtable="false"],[data-pagedtable=""]')).forEach(function(e,n){e.setAttribute("data-pagedtable","true"),e.setAttribute("pagedtable-page",0),e.setAttribute("class","pagedtable-wrapper");var a=new PagedTable(e);a.init(),t.push(a)})},e.resizeAll=function(){t.forEach(function(e){e.render()})},window.addEventListener("resize",e.resizeAll)}(PagedTableDoc||(PagedTableDoc={})),window.onload=function(){PagedTableDoc.initAll()};